# AI资讯智能体 PRD文档

## 1. 项目概述

**项目名称**: AI资讯微信公众号智能体  
**项目目标**: 开发一款基于smolagents框架的AI智能体，能够自动获取最新AI资讯并将其改写为适合微信公众号发布的文章格式。

## 2. 产品定位

**目标用户**: 
- 微信公众号运营者
- AI行业从业者
- 科技媒体工作者
- 对AI资讯感兴趣的内容创作者

**核心价值**:
- 自动化AI资讯收集与整理
- 智能化内容改写与优化
- 提高内容创作效率
- 保持资讯时效性和准确性

## 3. 功能需求

### 3.1 核心功能

**F1: AI资讯获取**
- 从多个权威AI资讯源获取最新信息
- 支持的资讯源：
  - Hugging Face Papers
  - arXiv AI相关论文
  - AI新闻网站（如AI News, VentureBeat AI等）
  - GitHub热门AI项目
  - AI公司官方博客

**F2: 内容筛选与分析**
- 基于关键词和热度筛选重要资讯
- 去重处理，避免重复内容
- 内容质量评估和排序

**F3: 微信公众号文章改写**
- 将技术性内容转换为通俗易懂的语言
- 生成吸引人的标题
- 添加适当的表情符号和排版
- 生成文章摘要和关键词标签

**F4: 内容格式化**
- 符合微信公众号发布规范
- 自动添加引用来源
- 生成配图建议
- 优化阅读体验

### 3.2 辅助功能

**F5: 定时任务**
- 支持定时获取资讯
- 可配置获取频率

**F6: 内容管理**
- 历史文章存储
- 内容分类管理
- 发布状态跟踪

**F7: 质量控制**
- 内容审核机制
- 人工干预接口
- 质量评分系统

## 4. 技术架构

### 4.1 框架选择
- **基础框架**: smolagents
- **代理类型**: CodeAgent（支持复杂的代码逻辑）
- **模型**: OpenAI GPT系列（GPT-4, GPT-3.5-turbo等）

### 4.2 核心组件

**工具集合**:
1. **WebSearchTool**: 网络搜索工具
2. **ArxivSearchTool**: arXiv论文搜索工具  
3. **HuggingFaceNewsTool**: Hugging Face资讯获取工具
4. **GitHubTrendingTool**: GitHub热门项目获取工具
5. **ContentRewriteTool**: 内容改写工具
6. **WeChatFormatterTool**: 微信公众号格式化工具

**数据存储**:
- SQLite数据库存储文章和元数据
- 文件系统存储生成的文章内容

### 4.3 工作流程

```
启动智能体 → 获取AI资讯 → 内容筛选与去重 → 内容分析与排序 → 
选择优质内容 → 改写为公众号文章 → 格式化与优化 → 质量检查 → 
保存文章 → 生成发布建议
```

## 5. 非功能性需求

### 5.1 性能要求
- 单次资讯获取时间 < 5分钟
- 文章改写时间 < 2分钟
- 支持并发处理多个资讯源

### 5.2 可靠性要求
- 系统可用性 > 95%
- 错误处理和重试机制
- 数据备份和恢复

### 5.3 安全性要求
- OpenAI API密钥安全存储
- 内容合规性检查
- 用户数据隐私保护

### 5.4 可扩展性要求
- 支持新增资讯源
- 支持自定义改写模板
- 支持多种输出格式

## 6. 用户界面设计

### 6.1 Web界面（基于Gradio）
- **主页面**: 智能体运行控制台
  - 启动/停止按钮
  - 实时日志显示
  - 进度条显示
- **配置页面**: 参数设置
  - OpenAI API配置
  - 资讯源开关设置
  - 改写参数调整
- **文章管理页面**: 
  - 生成文章列表
  - 文章预览和编辑
  - 导出功能
- **统计页面**: 
  - 运行统计数据
  - 质量评分趋势
  - 资讯源效果分析

## 7. 配置管理

### 7.1 配置文件结构
```yaml
# config.yaml
agent:
  model_type: "openai"
  model_id: "gpt-4"
  api_key: "${OPENAI_API_KEY}"
  max_steps: 20

sources:
  arxiv:
    enabled: true
    categories: ["cs.AI", "cs.LG", "cs.CL"]
    max_papers: 10
  
  huggingface:
    enabled: true
    max_items: 15
  
  github:
    enabled: true
    topics: ["artificial-intelligence", "machine-learning"]

output:
  format: "wechat"
  max_length: 3000
  include_images: true
  
schedule:
  enabled: false
  interval: "daily"  # hourly, daily, weekly
  time: "09:00"

web_ui:
  host: "127.0.0.1"
  port: 7860
  share: false
```

## 8. 项目里程碑

### 阶段1: 基础框架搭建（1-2天）
- 项目结构初始化
- smolagents环境配置
- OpenAI模型集成
- 基础工具类实现

### 阶段2: 资讯获取功能（2-3天）
- 实现各种资讯源工具
- 内容筛选和去重逻辑
- 数据存储设计

### 阶段3: 内容改写功能（2-3天）
- 文章改写工具开发
- 微信公众号格式化
- 质量控制机制

### 阶段4: Web界面开发（2天）
- Gradio界面设计与实现
- 配置管理界面
- 文章管理功能
- 统计展示页面

### 阶段5: 集成测试（1-2天）
- 端到端测试
- 性能优化
- 错误处理完善

## 9. 风险评估

### 9.1 技术风险
- **API限制**: 各资讯源可能有访问限制
- **内容质量**: AI改写质量可能不稳定
- **OpenAI成本**: API调用成本控制

### 9.2 业务风险
- **版权问题**: 资讯转载的版权合规
- **内容准确性**: AI生成内容的事实准确性
- **平台政策**: 微信公众号发布政策变化

## 10. 成功指标

### 10.1 功能指标
- 资讯获取成功率 > 90%
- 文章改写质量评分 > 4.0/5.0
- 内容去重准确率 > 95%

### 10.2 性能指标
- 平均处理时间 < 10分钟
- 系统稳定运行时间 > 24小时
- 错误率 < 5%

### 10.3 用户体验指标
- Web界面响应时间 < 2秒
- 界面操作成功率 > 98%
- 用户满意度 > 4.5/5.0
